<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - OJT Organizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        body {
            min-height: 100vh;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        .signup-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            width: 100%;
            max-width: 1200px;
            min-height: 100vh;
            background: white;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.1);
        }

        .signup-left {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 600"><rect fill="%23667eea" width="400" height="600"/><circle fill="%23ffffff" fill-opacity="0.05" cx="100" cy="150" r="80"/><circle fill="%23ffffff" fill-opacity="0.05" cx="300" cy="400" r="100"/></svg>');
            background-size: cover;
            background-position: center;
            padding: 60px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .signup-left::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800&q=80') center/cover;
            opacity: 0.15;
            z-index: 0;
        }

        .signup-left-content {
            position: relative;
            z-index: 1;
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: auto;
            position: absolute;
            top: 40px;
            left: 60px;
            font-size: 20px;
            font-weight: 700;
        }

        .brand-logo svg {
            width: 32px;
            height: 32px;
        }

        .testimonial {
            margin-bottom: 30px;
        }

        .testimonial-text {
            font-size: 28px;
            font-weight: 600;
            line-height: 1.4;
            margin-bottom: 20px;
        }

        .testimonial-author {
            font-size: 15px;
            opacity: 0.9;
        }

        .testimonial-role {
            font-size: 13px;
            opacity: 0.7;
            margin-top: 4px;
        }

        .signup-right {
            padding: 60px 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: white;
            overflow-y: auto;
        }

        .signup-header-right {
            margin-bottom: 32px;
        }

        .signup-header-right h1 {
            font-size: 30px;
            font-weight: 700;
            color: #101828;
            margin-bottom: 8px;
        }

        .signup-header-right p {
            font-size: 16px;
            color: #667085;
        }

        .form-group {
            margin-bottom: 18px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #344054;
            margin-bottom: 6px;
        }

        .form-group input {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #d0d5dd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.2s;
            background: white;
            color: #101828;
        }

        .form-group input::placeholder {
            color: #98a2b3;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .terms-check {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 24px;
            font-size: 14px;
            color: #344054;
        }

        .terms-check input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #667eea;
            margin-top: 2px;
        }

        .terms-check a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .terms-check a:hover {
            text-decoration: underline;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 32px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 16px;
        }

        .modal-header h2 {
            font-size: 24px;
            font-weight: 700;
            color: #101828;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #667085;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: #f3f4f6;
            color: #101828;
        }

        .modal-body {
            color: #344054;
            line-height: 1.6;
            font-size: 14px;
        }

        .modal-body h3 {
            font-size: 16px;
            font-weight: 600;
            color: #101828;
            margin-top: 20px;
            margin-bottom: 12px;
        }

        .modal-body h3:first-child {
            margin-top: 0;
        }

        .modal-body p {
            margin-bottom: 12px;
        }

        .modal-body ul {
            margin-left: 20px;
            margin-bottom: 12px;
        }

        .modal-body li {
            margin-bottom: 8px;
        }

        .modal-footer {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
            text-align: right;
        }

        .modal-footer button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .modal-footer button:hover {
            background: #5568d3;
        }

        .signup-button {
            width: 100%;
            padding: 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
        }

        .signup-button:hover {
            background: #5568d3;
        }

        .signup-button:active {
            transform: scale(0.98);
        }

        .signup-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .login-prompt {
            text-align: center;
            font-size: 14px;
            color: #667085;
            margin-top: 20px;
        }

        .login-prompt a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            margin-left: 4px;
            transition: all 0.2s;
        }

        .login-prompt a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 20px;
            display: none;
            border: 1px solid #fecaca;
        }

        .success-message {
            background: #f0fdf4;
            color: #16a34a;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 20px;
            display: none;
            border: 1px solid #bbf7d0;
        }

        @media (max-width: 1024px) {
            .signup-wrapper {
                grid-template-columns: 1fr;
                max-width: 500px;
                min-height: auto;
                margin: 20px;
                border-radius: 16px;
                overflow: hidden;
            }

            .signup-left {
                display: none;
            }

            .signup-right {
                padding: 60px 40px;
            }
        }

        @media (max-width: 640px) {
            .signup-right {
                padding: 40px 24px;
            }

            .signup-header-right h1 {
                font-size: 24px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="signup-wrapper">
        <!-- Left Side -->
        <div class="signup-left">
            <div class="brand-logo">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="9" y1="3" x2="9" y2="21" stroke="#764ba2" stroke-width="2"></line>
                    <path d="M3 9h18" stroke="#764ba2" stroke-width="2"></path>
                </svg>
                <span>OJT Organizer</span>
            </div>
            
            <div class="signup-left-content">
                <div class="testimonial">
                    <div class="testimonial-text">
                        "Join thousands of students managing their internships efficiently."
                    </div>
                    <div class="testimonial-author">
                        Start Your Journey
                    </div>
                    <div class="testimonial-role">
                        Track tasks, monitor progress, achieve goals
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Side -->
        <div class="signup-right">
            <div class="signup-header-right">
                <h1>Create Your Account</h1>
                <p>Start organizing your internship today</p>
            </div>

            <div id="errorMessage" class="error-message"></div>
            <div id="successMessage" class="success-message"></div>

            <form id="signupForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="username" name="username" placeholder="johndoe" required autocomplete="username">
                    </div>

                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="fullName" name="fullName" placeholder="John Doe" required autocomplete="name">
                    </div>
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="email" name="email" placeholder="john@example.com" required autocomplete="email">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="password" name="password" placeholder="••••••••" required autocomplete="new-password" minlength="6">
                    </div>

                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="••••••••" required autocomplete="new-password" minlength="6">
                    </div>
                </div>

                <div class="terms-check">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">
                        I agree to the <a href="#" onclick="openTermsModal(); return false;">Terms of Service</a> and <a href="#" onclick="openPrivacyModal(); return false;">Privacy Policy</a>
                    </label>
                </div>

                <button type="submit" class="signup-button" id="signupBtn">
                    Create Account
                </button>

                <div class="login-prompt">
                    Already have an account?<a href="login.html">Log in</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Terms of Service</h2>
                <button class="modal-close" onclick="closeTermsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <h3>1. Acceptance of Terms</h3>
                <p>By creating an account with OJT Organizer, you agree to these Terms of Service. If you do not agree to these terms, please do not use our service.</p>

                <h3>2. Account Registration</h3>
                <p>You agree to provide accurate, complete, and current information during registration. You are responsible for maintaining the confidentiality of your account credentials and password. You agree to notify us immediately of any unauthorized use of your account.</p>

                <h3>3. User Responsibilities</h3>
                <ul>
                    <li>Use the service only for managing your internship tasks and related activities</li>
                    <li>Not engage in any unlawful or prohibited activities</li>
                    <li>Not attempt to access unauthorized portions of our service</li>
                    <li>Not upload malicious code, viruses, or harmful materials</li>
                    <li>Not harass, threaten, or abuse other users</li>
                </ul>

                <h3>4. Data and Content</h3>
                <p>You retain ownership of all data and content you upload to OJT Organizer. By using our service, you grant us the right to store, process, and use your data to provide the service. We will protect your data according to our Privacy Policy.</p>

                <h3>5. Intellectual Property</h3>
                <p>OJT Organizer and all its features, functionality, and content are owned by us. You may not reproduce, modify, or distribute any content without permission.</p>

                <h3>6. Limitation of Liability</h3>
                <p>OJT Organizer is provided "as is" without warranties. We are not liable for any indirect, incidental, or consequential damages arising from your use of the service.</p>

                <h3>7. Termination</h3>
                <p>We reserve the right to terminate or suspend your account at any time if you violate these terms or for any other reason.</p>

                <h3>8. Changes to Terms</h3>
                <p>We may update these terms at any time. Your continued use of OJT Organizer constitutes acceptance of the updated terms.</p>
            </div>
            <div class="modal-footer">
                <button onclick="closeTermsModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Privacy Policy</h2>
                <button class="modal-close" onclick="closePrivacyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <h3>1. Information We Collect</h3>
                <p>We collect the following information when you create an account:</p>
                <ul>
                    <li>Username and email address</li>
                    <li>Full name</li>
                    <li>Password (encrypted)</li>
                    <li>Task and project data you create and manage</li>
                    <li>Activity logs and usage statistics</li>
                </ul>

                <h3>2. How We Use Your Information</h3>
                <p>We use your information to:</p>
                <ul>
                    <li>Provide and maintain the OJT Organizer service</li>
                    <li>Personalize your experience</li>
                    <li>Communicate important updates and notifications</li>
                    <li>Improve our service based on usage patterns</li>
                    <li>Ensure security and prevent fraud</li>
                </ul>

                <h3>3. Data Security</h3>
                <p>We implement industry-standard security measures to protect your data, including encryption, secure servers, and regular security audits. However, no system is 100% secure. You are responsible for keeping your password confidential.</p>

                <h3>4. Data Sharing</h3>
                <p>We do not sell, trade, or rent your personal information to third parties. Your data is only shared with authorized personnel who need it to provide the service.</p>

                <h3>5. Cookies and Tracking</h3>
                <p>We use cookies and similar technologies to enhance your experience and understand how you use our service. You can control cookie settings through your browser preferences.</p>

                <h3>6. Your Rights</h3>
                <p>You have the right to:</p>
                <ul>
                    <li>Access your personal data</li>
                    <li>Request correction of inaccurate information</li>
                    <li>Request deletion of your account and associated data</li>
                    <li>Opt-out of promotional communications</li>
                </ul>

                <h3>7. Data Retention</h3>
                <p>Your data will be retained as long as your account is active. Upon account deletion, we will securely delete your data within 30 days, except where required by law.</p>

                <h3>8. Changes to Privacy Policy</h3>
                <p>We may update this Privacy Policy periodically. We will notify you of significant changes via email or through the service.</p>

                <h3>9. Contact Us</h3>
                <p>If you have questions about our Privacy Policy or data practices, please contact us through the support section in the application.</p>
            </div>
            <div class="modal-footer">
                <button onclick="closePrivacyModal()">Close</button>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('signupForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');
            const submitBtn = document.getElementById('signupBtn');
            
            // Hide previous messages
            errorMsg.style.display = 'none';
            successMsg.style.display = 'none';
            
            // Get form values
            const username = document.getElementById('username').value.trim();
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const terms = document.getElementById('terms').checked;
            
            // Validation
            if (!username || !fullName || !email || !password || !confirmPassword) {
                errorMsg.textContent = 'Please fill in all fields';
                errorMsg.style.display = 'block';
                return;
            }
            
            if (username.length < 3) {
                errorMsg.textContent = 'Username must be at least 3 characters long';
                errorMsg.style.display = 'block';
                return;
            }
            
            if (password.length < 6) {
                errorMsg.textContent = 'Password must be at least 6 characters long';
                errorMsg.style.display = 'block';
                return;
            }
            
            if (password !== confirmPassword) {
                errorMsg.textContent = 'Passwords do not match';
                errorMsg.style.display = 'block';
                return;
            }
            
            if (!terms) {
                errorMsg.textContent = 'Please agree to the Terms of Service and Privacy Policy';
                errorMsg.style.display = 'block';
                return;
            }
            
            // Disable button
            submitBtn.disabled = true;
            submitBtn.textContent = 'Creating Account...';
            
            try {
                const response = await fetch('api/signup.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        fullName: fullName,
                        email: email,
                        password: password
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    successMsg.textContent = result.message || 'Account created successfully! Redirecting...';
                    successMsg.style.display = 'block';
                    
                    // Redirect to dashboard after 1 second
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1000);
                } else {
                    errorMsg.textContent = result.message || 'Registration failed. Please try again.';
                    errorMsg.style.display = 'block';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Create Account';
                }
            } catch (error) {
                errorMsg.textContent = 'An error occurred. Please try again.';
                errorMsg.style.display = 'block';
                submitBtn.disabled = false;
                submitBtn.textContent = 'Create Account';
            }
        });

        // Modal functions
        function openTermsModal() {
            document.getElementById('termsModal').classList.add('active');
        }

        function closeTermsModal() {
            document.getElementById('termsModal').classList.remove('active');
        }

        function openPrivacyModal() {
            document.getElementById('privacyModal').classList.add('active');
        }

        function closePrivacyModal() {
            document.getElementById('privacyModal').classList.remove('active');
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const termsModal = document.getElementById('termsModal');
            const privacyModal = document.getElementById('privacyModal');
            
            if (event.target === termsModal) {
                termsModal.classList.remove('active');
            }
            if (event.target === privacyModal) {
                privacyModal.classList.remove('active');
            }
        };

        // Close modals with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.getElementById('termsModal').classList.remove('active');
                document.getElementById('privacyModal').classList.remove('active');
            }
        });
    </script>
</body>
</html>
